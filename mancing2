--====================================================
-- BENJAMIN X | FINAL UI V3
-- ANIMATED MINIMIZE | FPS BOOST | ICON LOGO
-- DELTA READY
--====================================================

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local ICON_ID = "rbxassetid://7072718362"

pcall(function()
    player.PlayerGui:FindFirstChild("BENJAMIN_X"):Destroy()
end)

-- GLOBAL
_G.BX = {
    AutoFish = false,
    Mode = "Legit",
    FPS = false
}

-- GUI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "BENJAMIN_X"
gui.ResetOnSpawn = false

-- MAIN
local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(560,340)
main.Position = UDim2.fromScale(0.5,0.5)
main.AnchorPoint = Vector2.new(0.5,0.5)
main.BackgroundColor3 = Color3.fromRGB(15,15,15)
main.BackgroundTransparency = 0.15
main.BorderSizePixel = 0
Instance.new("UICorner", main).CornerRadius = UDim.new(0,14)

-- DRAG
do
    local drag, start, pos
    main.InputBegan:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then
            drag = true
            start = i.Position
            pos = main.Position
        end
    end)
    UIS.InputChanged:Connect(function(i)
        if drag and i.UserInputType == Enum.UserInputType.MouseMovement then
            local d = i.Position - start
            main.Position = UDim2.new(pos.X.Scale,pos.X.Offset+d.X,pos.Y.Scale,pos.Y.Offset+d.Y)
        end
    end)
    UIS.InputEnded:Connect(function() drag = false end)
end

-- TOP BAR
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1,0,0,40)
top.BackgroundTransparency = 1

local title = Instance.new("TextLabel", top)
title.Text = "BENJAMIN X"
title.Font = Enum.Font.GothamBold
title.TextSize = 17
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1
title.Position = UDim2.fromOffset(15,0)
title.Size = UDim2.new(1,-90,1,0)
title.TextXAlignment = Left

-- CLOSE
local close = Instance.new("TextButton", top)
close.Size = UDim2.fromOffset(24,24)
close.Position = UDim2.new(1,-30,0,8)
close.Text = "✕"
close.Font = Enum.Font.GothamBold
close.TextSize = 14
close.BackgroundColor3 = Color3.fromRGB(180,60,60)
close.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", close).CornerRadius = UDim.new(1,0)

close.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

-- MINIMIZE
local minimize = Instance.new("TextButton", top)
minimize.Size = UDim2.fromOffset(24,24)
minimize.Position = UDim2.new(1,-60,0,8)
minimize.Text = "–"
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 18
minimize.BackgroundColor3 = Color3.fromRGB(80,80,80)
minimize.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", minimize).CornerRadius = UDim.new(1,0)

-- MINI ICON
local mini = Instance.new("Frame", gui)
mini.Size = UDim2.fromOffset(52,52)
mini.Position = UDim2.fromScale(0.5,0.8)
mini.Visible = false
mini.BackgroundColor3 = Color3.fromRGB(255,105,180)
mini.BorderSizePixel = 0
Instance.new("UICorner", mini).CornerRadius = UDim.new(1,0)

local icon = Instance.new("ImageLabel", mini)
icon.Size = UDim2.new(1,-10,1,-10)
icon.Position = UDim2.fromOffset(5,5)
icon.Image = ICON_ID
icon.BackgroundTransparency = 1

-- DRAG MINI
do
    local drag, start, pos
    mini.InputBegan:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then
            drag = true
            start = i.Position
            pos = mini.Position
        end
    end)
    UIS.InputChanged:Connect(function(i)
        if drag and i.UserInputType == Enum.UserInputType.MouseMovement then
            local d = i.Position - start
            mini.Position = UDim2.new(pos.X.Scale,pos.X.Offset+d.X,pos.Y.Scale,pos.Y.Offset+d.Y)
        end
    end)
    UIS.InputEnded:Connect(function() drag = false end)
end

-- ANIMATION
minimize.MouseButton1Click:Connect(function()
    TweenService:Create(main,TweenInfo.new(0.25),
        {Size = UDim2.fromOffset(480,280), BackgroundTransparency = 1}):Play()
    task.wait(0.25)
    main.Visible = false
    mini.Visible = true
    mini.Size = UDim2.fromOffset(10,10)
    TweenService:Create(mini,TweenInfo.new(0.25,Enum.EasingStyle.Back),
        {Size = UDim2.fromOffset(52,52)}):Play()
end)

mini.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        mini.Visible = false
        main.Visible = true
        main.Size = UDim2.fromOffset(480,280)
        TweenService:Create(main,TweenInfo.new(0.25,Enum.EasingStyle.Back),
            {Size = UDim2.fromOffset(560,340), BackgroundTransparency = 0.15}):Play()
    end
end)

-- FPS BOOST FUNCTION
local function FPSBoost()
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
    Lighting.GlobalShadows = false
    Lighting.FogEnd = 9e9
    Lighting.Brightness = 1

    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("BasePart") then
            v.Material = Enum.Material.Plastic
            v.CastShadow = false
        elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
            v.Enabled = false
        end
    end
end

-- SIMPLE SETTING BUTTON
local btn = Instance.new("TextButton", main)
btn.Text = "FPS BOOST"
btn.Size = UDim2.fromOffset(120,30)
btn.Position = UDim2.fromOffset(20,60)
btn.BackgroundColor3 = Color3.fromRGB(255,105,180)
btn.TextColor3 = Color3.new(1,1,1)
btn.Font = Enum.Font.Gotham
btn.TextSize = 13
Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)

btn.MouseButton1Click:Connect(function()
    _G.BX.FPS = not _G.BX.FPS
    if _G.BX.FPS then FPSBoost() end
    btn.Text = "FPS BOOST : "..tostring(_G.BX.FPS)
end)
